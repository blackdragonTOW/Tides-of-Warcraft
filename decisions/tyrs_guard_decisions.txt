decisions = {

	tyrs_guard_attain_discipline = {
		is_in_society = yes
		
		potential = {
			prisoner = no
			has_regent = no
			NOT = { trait = incapable }
			OR = {
				AND = {
					society_rank >= 2
					society_member_of = tyrs_guard_society
				}
				has_landed_title = d_tyrs_guard
				any_liege = {
					has_landed_title = d_tyrs_guard
				}
			}
		}
		
		allow = {
			OR = {
				trait = craven
				trait = arbitrary
				NOT = { trait = brave }
				NOT = { trait = just }
			}
			custom_tooltip = {
				text = tg_attain_discipline_cd_tooltip
				NOT = { has_character_modifier = tg_attain_discipline_cooldown }
			}
			OR = {
				AND = {
					society_member_of = tyrs_guard_society
					has_society_currency_minor_trigger = yes
				}
				AND = {
					NOT = { society_member_of = tyrs_guard_society }
					prestige = 100
				}
			}
		}
		
		effect = {
			character_event = { id = tyr.29 }
			if = {
				limit = {
					society_member_of = tyrs_guard_society
				}
				increase_visibility_effect = yes
				detract_society_currency_minor_effect = yes
			}
			if = {
				limit = {
					NOT = { society_member_of = tyrs_guard_society }
				}
				prestige = -100
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 0.5
			modifier = {
				factor = 0.2
				trait = slothful
			}
			modifier = {
				factor = 1.2
				trait = diligent
			}
		}
	}
	
	tyrs_guard_become_public = {
		is_in_society = yes
		is_high_prio = yes
		potential = {
			prisoner = no
			NOT = { trait = incapable }
			has_regent = no
			society_rank = 4
			society_member_of = tyrs_guard_society
		}
		
		allow = {
			OR = {
				has_landed_title = c_southern_tirisfal_mountains
				any_realm_character = {
					has_landed_title = c_southern_tirisfal_mountains
				}
			}
			OR = {
				OR = {
					NOT = { is_title_active = b_southern_tirisfal_mountains_3 }
					has_landed_title = b_southern_tirisfal_mountains_3
				}
				AND = {
					is_title_active = b_southern_tirisfal_mountains_3
					any_realm_character = {
						has_landed_title = b_southern_tirisfal_mountains_3
					}
				}
			}
			OR = {
				independent = yes
				top_liege = {
					NOT = {
						AND = {
							religion_group = void_group
							NOT = { religion = forgotten_shadow }
						}
						AND = {
							religion_group = fel_group
							NOT = { religion = demonology }
						}
						religion = cult_of_the_infinite
						religion = cult_of_the_destroyer
						religion = emerald_nightmare
						religion_group = wild_gods_group # Change this WAY later.
						religion = scarlet
					}
				}
			}
			has_society_currency_major_trigger = yes
		}
		
		effect = {
			narrative_event = { id = tyr.23 }
			any_playable_ruler = {
				limit = {
					ai = no
					region = world_EK_All
				}
				narrative_event = { id = tyr.24 }
			}
			detract_society_currency_major_effect = yes	
			d_tyrs_guard = {
				grant_title = PREV
			}
			set_government_type = templar_order_government
			if = {
				limit = {
					NOT = { has_global_flag = tyrs_guard_defeated }
				}
				set_global_flag = tyrs_guard_reformed
			}
			if = {
				limit = {
					has_global_flag = tyrs_guard_defeated
				}
				clr_global_flag = tyrs_guard_defeated
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
		}
	}

}