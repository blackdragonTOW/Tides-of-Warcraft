namespace = magicmana

character_event = {
    id = magicmana.1
    hide_window = yes

    is_triggered_only = yes

    trigger = {
        OR = {
            trait = mage
            trait = warlock
            trait = necromancer
            trait = priest
            trait = shaman
            trait = druid
            trait = paladin
        }
        NOT = { has_character_modifier = mana_display }
    }
    
    immediate = {
        add_character_modifier = { name = mana_display duration = -1 }
        set_variable = { which = mana value = 100 }
    }
}

character_event = {
    id = magicmana.2
    hide_window = yes
    
    is_triggered_only = yes

    trigger = {
        has_character_modifier = mana_display
        NOT = { check_variable = { which = mana value = 100 } }
    }

    immediate = {
        set_variable = { which = mana value = 100 }
    }
}