namespace = classops

character_event = {
	id = classops.1
	hide_window = yes
	
	mean_time_to_happen = {
		days = 1
	}
	
	trigger = {
		NOT = {
			has_game_rule = {
				name = class_opinions
				value = off
			}
		}
		OR = {
			AND = {
				OR = {
					trait = arcanist
					trait = arcanist_fake
				}
				NOT = { trait = arcanist_op }
			}
			AND = {
				OR = {
					trait = mage
					trait = mage_fake
				}
				NOT = { trait = mage_op }
			}
			AND = {
				has_character_modifier = blood_magic
				NOT = { has_character_flag = secret_blood_mage }
				NOT = { trait = blood_mage_op }
			}
			AND = {
				trait = warlock
				NOT = { has_character_flag = secret_warlock }
				NOT = { trait = warlock_op }
			}
			AND = {
				trait = necromancer
				NOT = { has_character_flag = secret_necromancer }
				NOT = { trait = necromancer_op }
			}
			AND = {
				trait = runemaster
				NOT = { trait = runemaster_op }
			}
			AND = {
				trait = necrolyte
				NOT = { has_character_flag = secret_necrolyte }
				NOT = { trait = necrolyte_op }
			}
			AND = {
				OR = {
					trait = healer
					trait = healer_fake
				}
				NOT = { trait = healer_op }
			}
			AND = {
				OR = {
					has_character_modifier = holy_priest
					has_character_modifier = holy_priest_fake
				}
				NOT = { trait = holy_priest_op }
			}
			AND = {
				has_character_modifier = sun_priest
				NOT = { trait = sun_priest_op }
			}
			AND = {
				has_character_modifier = moon_priest
				NOT = { trait = moon_priest_op }
			}
			AND = {
				has_character_modifier = shadow_priest
				NOT = { has_character_flag = secret_shadow_priest }
				NOT = { trait = shadow_priest_op }
			}
			AND = {
				has_character_modifier = sea_witch
				NOT = { trait = sea_witch_op }
			}
			AND = {
				OR = {
					has_character_modifier = elementalist
					has_character_modifier = elementalist_fake
				}
				NOT = { trait = elementalist_op }
			}
			AND = {
				has_character_modifier = spiritualist
				NOT = { trait = spiritualist_op }
			}
			AND = {
				has_character_modifier = dark_shaman
				NOT = { has_character_flag = secret_dark_shaman }
				NOT = { trait = dark_shaman_op }
			}
			AND = {
				trait = druid
				OR = {
					has_character_modifier = mender_fake
					NOT = { has_character_modifier = nightmare_druid }
					NOT = { has_character_modifier = flame_druid }
					NOT = { has_character_modifier = wave_druid }
					NOT = { has_character_modifier = wind_druid }
					NOT = { has_character_modifier = stone_druid }
				}
				NOT = { trait = druid_op }
			}
			AND = {
				trait = druid
				has_character_modifier = nightmare_druid
				NOT = { has_character_flag = secret_nightmare_druid }
				NOT = { trait = nightmare_druid_op }
			}
			AND = {
				trait = druid
				has_character_modifier = flame_druid
				NOT = { trait = flame_druid_op }
			}
			AND = {
				trait = druid
				has_character_modifier = wave_druid
				NOT = { trait = wave_druid_op }
			}
			AND = {
				trait = druid
				has_character_modifier = wind_druid
				NOT = { trait = wind_druid_op }
			}
			AND = {
				trait = druid
				has_character_modifier = stone_druid
				NOT = { trait = stone_druid_op }
			}
			AND = {
				trait = witch_doctor
				NOT = { trait = witch_doctor_op }
			}
			AND = {
				trait = alchemist
				NOT = { trait = alchemist_op }
			}
			AND = {
				trait = scout
				NOT = { trait = scout_op }
			}
			AND = {
				trait = assassin
				NOT = { has_character_flag = secret_assassin }
				NOT = { trait = assassin_op }
			}
			AND = {
				trait = rogue
				NOT = { has_character_flag = secret_rogue }
				NOT = { trait = rogue_op }
			}
			AND = {
				trait = beastmaster
				NOT = { trait = beastmaster_op }
			}
			AND = {
				trait = explorer
				NOT = { trait = explorer_op }
			}
			AND = {
				trait = ranger
				NOT = { trait = ranger_op }
			}
			AND = {
				trait = tinker
				NOT = { trait = tinker_op }
			}
			AND = {
				trait = engineer
				NOT = { trait = engineer_op }
			}
			AND = {
				trait = mechanist
				NOT = { trait = mechanist_op }
			}
			AND = {
				OR = { 
					trait = techmage
					trait = techmage_fake
				}
				NOT = { trait = techmage_op }
			}
			AND = {
				trait = fighter
				NOT = { trait = fighter_op }
			}
			AND = {
				trait = warrior
				NOT = { trait = warrior_op }
			}
			AND = {
				trait = paladin
				NOT = { trait = paladin_op }
			}
			AND = {
				trait = monk
				NOT = { trait = monk_op }
			}
			AND = {
				trait = death_knight
				NOT = { trait = death_knight_op }
			}
			AND = {
				trait = demon_hunter
				NOT = { trait = demon_hunter_op }
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				OR = {
					trait = arcanist
					trait = arcanist_fake
				}
				NOT = { trait = arcanist_op }
			}
			add_trait = arcanist_op
		}
		if = {
			limit = {
				OR = {
					trait = mage
					trait = mage_fake
				}
				NOT = { trait = mage_op }
			}
			add_trait = mage_op
		}
		if = {
			limit = {
				has_character_modifier = blood_magic
				NOT = { has_character_flag = secret_blood_mage }
				NOT = { trait = blood_mage_op }
			}
			add_trait = blood_mage_op
		}
		if = {
			limit = {
				trait = warlock
				NOT = { has_character_flag = secret_warlock }
				NOT = { trait = warlock_op }
			}
			add_trait = warlock_op
		}
		if = {
			limit = {
				trait = necromancer
				NOT = { has_character_flag = secret_necromancer }
				NOT = { trait = necromancer_op }
			}
			add_trait = necromancer_op
		}
		if = {
			limit = {
				trait = runemaster
				NOT = { trait = runemaster_op }
			}
			add_trait = runemaster_op
		}
		if = {
			limit = {
				trait = necrolyte
				NOT = { has_character_flag = secret_necrolyte }
				NOT = { trait = necrolyte_op }
			}
			add_trait = necrolyte_op
		}
		if = {
			limit = {
				OR = {
					trait = healer
					trait = healer_fake
				}
				NOT = { trait = healer_op }
			}
			add_trait = healer_op
		}
		if = {
			limit = {
				OR = {
					has_character_modifier = holy_priest
					has_character_modifier = holy_priest_fake
				}
				NOT = { trait = holy_priest_op }
			}
			add_trait = holy_priest_op
		}
		if = {
			limit = {
				has_character_modifier = sun_priest
				NOT = { trait = sun_priest_op }
			}
			add_trait = sun_priest_op
		}
		if = {
			limit = {
				has_character_modifier = moon_priest
				NOT = { trait = moon_priest_op }
			}
			add_trait = moon_priest_op
		}
		if = {
			limit = {
				has_character_modifier = shadow_priest
				NOT = { has_character_flag = secret_shadow_priest }
				NOT = { trait = shadow_priest_op }
			}
			add_trait = shadow_priest_op
		}
		if = {
			limit = {
				has_character_modifier = sea_witch
				NOT = { trait = sea_witch_op }
			}
			add_trait = sea_witch_op
		}
		if = {
			limit = {
				OR = {
					has_character_modifier = elementalist
					has_character_modifier = elementalist_fake
				}
				NOT = { trait = elementalist_op }
			}
			add_trait = elementalist_op
		}
		if = {
			limit = {
				has_character_modifier = spiritualist
				NOT = { trait = spiritualist_op }
			}
			add_trait = spiritualist_op
		}
		if = {
			limit = {
				has_character_modifier = dark_shaman
				NOT = { has_character_flag = secret_dark_shaman }
				NOT = { trait = dark_shaman_op }
			}
			add_trait = dark_shaman_op
		}
		if = {
			limit = {
				trait = druid
				OR = {
					has_character_modifier = mender_fake
					NOT = { has_character_modifier = nightmare_druid }
					NOT = { has_character_modifier = flame_druid }
					NOT = { has_character_modifier = wave_druid }
					NOT = { has_character_modifier = wind_druid }
					NOT = { has_character_modifier = stone_druid }
				}
				NOT = { trait = druid_op }
			}
			add_trait = druid_op
		}
		if = {
			limit = {
				trait = druid
				has_character_modifier = nightmare_druid
				NOT = { has_character_flag = secret_nightmare_druid }
				NOT = { trait = nightmare_druid_op }
			}
			add_trait = nightmare_druid_op
		}
		if = {
			limit = {
				trait = druid
				has_character_modifier = flame_druid
				NOT = { trait = flame_druid_op }
			}
			add_trait = flame_druid_op
		}
		if = {
			limit = {
				trait = druid
				has_character_modifier = wave_druid
				NOT = { trait = wave_druid_op }
			}
			add_trait = wave_druid_op
		}
		if = {
			limit = {
				trait = druid
				has_character_modifier = wind_druid
				NOT = { trait = wind_druid_op }
			}
			add_trait = wind_druid_op
		}
		if = {
			limit = {
				trait = druid
				has_character_modifier = stone_druid
				NOT = { trait = stone_druid_op }
			}
			add_trait = stone_druid_op
		}
		if = {
			limit = {
				trait = witch_doctor
				NOT = { trait = witch_doctor_op }
			}
			add_trait = witch_doctor_op
		}
		if = {
			limit = {
				trait = alchemist
				NOT = { trait = alchemist_op }
			}
			add_trait = alchemist_op
		}
		if = {
			limit = {
				trait = scout
				NOT = { trait = scout_op }
			}
			add_trait = scout_op
		}
		if = {
			limit = {
				trait = assassin
				NOT = { has_character_flag = secret_assassin }
				NOT = { trait = assassin_op }
			}
			add_trait = assassin_op
		}
		if = {
			limit = {
				trait = rogue
				NOT = { has_character_flag = secret_rogue }
				NOT = { trait = rogue_op }
			}
			add_trait = rogue_op
		}
		if = {
			limit = {
				trait = beastmaster
				NOT = { trait = beastmaster_op }
			}
			add_trait = beastmaster_op
		}
		if = {
			limit = {
				trait = explorer
				NOT = { trait = explorer_op }
			}
			add_trait = explorer_op
		}
		if = {
			limit = {
				trait = ranger
				NOT = { trait = ranger_op }
			}
			add_trait = ranger_op
		}
		if = {
			limit = {
				trait = tinker
				NOT = { trait = tinker_op }
			}
			add_trait = tinker_op
		}
		if = {
			limit = {
				trait = engineer
				NOT = { trait = engineer_op }
			}
			add_trait = engineer_op
		}
		if = {
			limit = {
				trait = mechanist
				NOT = { trait = mechanist_op }
			}
			add_trait = mechanist_op
		}
		if = {
			limit = {
				OR = {
					trait = techmage
					trait = techmage_fake
				}
				NOT = { trait = techmage_op }
			}
			add_trait = techmage_op
		}
		if = {
			limit = {
				trait = fighter
				NOT = { trait = fighter_op }
			}
			add_trait = fighter_op
		}
		if = {
			limit = {
				trait = warrior
				NOT = { trait = warrior_op }
			}
			add_trait = warrior_op
		}
		if = {
			limit = {
				trait = paladin
				NOT = { trait = paladin_op }
			}
			add_trait = paladin_op
		}
		if = {
			limit = {
				trait = monk
				NOT = { trait = monk_op }
			}
			add_trait = monk_op
		}
		if = {
			limit = {
				trait = death_knight
				NOT = { trait = death_knight_op }
			}
			add_trait = death_knight_op
		}
		if = {
			limit = {
				trait = demon_hunter
				NOT = { trait = demon_hunter_op }
			}
			add_trait = demon_hunter_op
		}
	}
}

character_event = {
	id = classops.2
	hide_window = yes
	
	mean_time_to_happen = {
		days = 1
	}
	
	trigger = {
		NOT = {
			has_game_rule = {
				name = class_opinions
				value = off
			}
		}
		OR = {
			AND = {
				NOR = {
					trait = arcanist
					trait = arcanist_fake
				}
				trait = arcanist_op
			}
			AND = {
				NOR = {
					trait = mage
					trait = mage_fake
				}
				trait = mage_op
			}
			AND = {
				OR = {
					NOT = { has_character_modifier = blood_magic }
					has_character_flag = secret_blood_mage
				}
				trait = blood_mage_op
			}
			AND = {
				OR = {
					NOT = { trait = warlock }
					has_character_flag = secret_warlock
				}
				trait = warlock_op
			}
			AND = {
				OR = {
					NOT = { trait = necromancer }
					has_character_flag = secret_necromancer
				}
				trait = necromancer_op
			}
			AND = {
				NOT = { trait = runemaster }
				trait = runemaster_op
			}
			AND = {
				OR = {
					NOT = { trait = necrolyte }
					has_character_flag = secret_necrolyte
				}
				trait = necrolyte_op
			}
			AND = {
				NOR = {
					trait = healer
					trait = healer_fake
				}
				trait = healer_op
			}
			AND = {
				NOR = {
					has_character_modifier = holy_priest
					has_character_modifier = holy_priest_fake
				}
				trait = holy_priest_op
			}
			AND = {
				NOT = { has_character_modifier = sun_priest }
				trait = sun_priest_op
			}
			AND = {
				NOT = { has_character_modifier = moon_priest }
				trait = moon_priest_op
			}
			AND = {
				OR = {
					NOT = { has_character_modifier = shadow_priest }
					has_character_flag = secret_shadow_priest
				}
				trait = shadow_priest_op
			}
			AND = {
				NOT = { has_character_modifier = sea_witch }
				trait = sea_witch_op
			}
			AND = {
				NOR = {
					has_character_modifier = elementalist
					has_character_modifier = elementalist_fake
				}
				trait = elementalist_op
			}
			AND = {
				NOT = { has_character_modifier = spiritualist }
				trait = spiritualist_op
			}
			AND = {
				OR = {
					NOT = { has_character_modifier = dark_shaman }
					has_character_flag = secret_dark_shaman
				}
				trait = dark_shaman_op
			}
			AND = {
				OR = {
					NOT = { trait = druid }
					NOT = { has_character_modifier = mender_fake }
					has_character_modifier = nightmare_druid
					has_character_modifier = flame_druid
					has_character_modifier = wave_druid
					has_character_modifier = wind_druid
					has_character_modifier = stone_druid
				}
				trait = druid_op
			}
			AND = {
				OR = {
					NOT = { trait = druid }
					NOT = { has_character_modifier = nightmare_druid }
					has_character_flag = secret_nightmare_druid
				}
				trait = nightmare_druid_op
			}
			AND = {
				OR = {
					NOT = { trait = druid }
					NOT = { has_character_modifier = flame_druid }
				}
				trait = flame_druid_op
			}
			AND = {
				OR = {
					NOT = { trait = druid }
					NOT = { has_character_modifier = wave_druid }
				}
				trait = wave_druid_op
			}
			AND = {
				OR = {
					NOT = { trait = druid }
					NOT = { has_character_modifier = wind_druid }
				}
				trait = wind_druid_op
			}
			AND = {
				OR = {
					NOT = { trait = druid }
					NOT = { has_character_modifier = stone_druid }
				}
				trait = stone_druid_op
			}
			AND = {
				NOT = { trait = witch_doctor }
				trait = witch_doctor_op
			}
			AND = {
				NOT = { trait = alchemist }
				trait = alchemist_op
			}
			AND = {
				NOT = { trait = scout }
				trait = scout_op
			}
			AND = {
				OR = {
					NOT = { trait = assassin }
					has_character_flag = secret_assassin
				}
				trait = assassin_op
			}
			AND = {
				OR = { 
					NOT = { trait = rogue }
					has_character_flag = secret_rogue
				}
				trait = rogue_op
			}
			AND = {
				NOT = { trait = beastmaster }
				trait = beastmaster_op
			}
			AND = {
				NOT = { trait = explorer }
				trait = explorer_op
			}
			AND = {
				NOT = { trait = ranger }
				trait = ranger_op
			}
			AND = {
				NOT = { trait = tinker }
				trait = tinker_op
			}
			AND = {
				NOT = { trait = engineer }
				trait = engineer_op
			}
			AND = {
				NOT = { trait = mechanist }
				trait = mechanist_op
			}
			AND = {
				NOR = {
					trait = techmage
					trait = techmage_fake
				}
				trait = techmage_op
			}
			AND = {
				NOT = { trait = fighter }
				trait = fighter_op
			}
			AND = {
				NOT = { trait = warrior }
				trait = warrior_op
			}
			AND = {
				NOT = { trait = paladin }
				trait = paladin_op
			}
			AND = {
				NOT = { trait = monk }
				trait = monk_op
			}
			AND = {
				NOT = { trait = death_knight }
				trait = death_knight_op
			}
			AND = {
				NOT = { trait = demon_hunter }
				trait = demon_hunter_op
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				NOR = {
					trait = arcanist
					trait = arcanist_fake
				}
				trait = arcanist_op
			}
			remove_trait = arcanist_op
		}
		if = {
			limit = {
				NOR = {
					trait = mage
					trait = mage_fake
				}
				trait = mage_op
			}
			remove_trait = mage_op
		}
		if = {
			limit = {
				OR = {
					NOT = { has_character_modifier = blood_magic }
					has_character_flag = secret_blood_mage
				}
				trait = blood_mage_op
			}
			remove_trait = blood_mage_op
		}
		if = {
			limit = {
				OR = {
					NOT = { trait = warlock }
					has_character_flag = secret_warlock
				}
				trait = warlock_op
			}
			remove_trait = warlock_op
		}
		if = {
			limit = {
				OR = {
					NOT = { trait = necromancer }
					has_character_flag = secret_necromancer
				}
				NOT = { trait = necromancer_op }
			}
			remove_trait = necromancer_op
		}
		if = {
			limit = {
				NOT = { trait = runemaster }
				trait = runemaster_op
			}
			remove_trait = runemaster_op
		}
		if = {
			limit = {
				OR = {
					NOT = { trait = necrolyte }
					has_character_flag = secret_necrolyte
				}
				trait = necrolyte_op
			}
			remove_trait = necrolyte_op
		}
		if = {
			limit = {
				NOR = {
					trait = healer
					trait = healer_fake
				}
				trait = healer_op
			}
			remove_trait = healer_op
		}
		if = {
			limit = {
				NOR = {
					has_character_modifier = holy_priest
					has_character_modifier = holy_priest_fake
				}
				trait = holy_priest_op
			}
			remove_trait = holy_priest_op
		}
		if = {
			limit = {
				NOT = { has_character_modifier = sun_priest }
				trait = sun_priest_op
			}
			remove_trait = sun_priest_op
		}
		if = {
			limit = {
				NOT = { has_character_modifier = moon_priest }
				trait = moon_priest_op
			}
			remove_trait = moon_priest_op
		}
		if = {
			limit = {
				OR = {
					NOT = { has_character_modifier = shadow_priest }
					has_character_flag = secret_shadow_priest
				}
				trait = shadow_priest_op
			}
			remove_trait = shadow_priest_op
		}
		if = {
			limit = {
				NOT = { has_character_modifier = sea_witch }
				trait = sea_witch_op
			}
			remove_trait = sea_witch_op
		}
		if = {
			limit = {
				NOR = {
					has_character_modifier = elementalist
					has_character_modifier = elementalist_fake
				}
				trait = elementalist_op
			}
			remove_trait = elementalist_op
		}
		if = {
			limit = {
				NOT = { has_character_modifier = spiritualist }
				trait = spiritualist_op
			}
			remove_trait = spiritualist_op
		}
		if = {
			limit = {
				OR = {
					NOT = { has_character_modifier = dark_shaman }
					has_character_flag = secret_dark_shaman
				}
				trait = dark_shaman_op
			}
			remove_trait = dark_shaman_op
		}
		if = {
			limit = {
				OR = {
					NOT = { trait = druid }
					NOT = { has_character_modifier = mender_fake }
					has_character_modifier = nightmare_druid
					has_character_modifier = flame_druid
					has_character_modifier = wave_druid
					has_character_modifier = wind_druid
					has_character_modifier = stone_druid
				}
				trait = druid_op
			}
			remove_trait = druid_op
		}
		if = {
			limit = {
				OR = {
					NOT = { trait = druid }
					NOT = { has_character_modifier = nightmare_druid }
					has_character_flag = secret_nightmare_druid
				}
				trait = nightmare_druid_op
			}
			remove_trait = nightmare_druid_op
		}
		if = {
			limit = {
				OR = {
					NOT = { trait = druid }
					NOT = { has_character_modifier = flame_druid }
				}
				trait = flame_druid_op
			}
			remove_trait = flame_druid_op
		}
		if = {
			limit = {
				OR = {
					NOT = { trait = druid }
					NOT = { has_character_modifier = wave_druid }
				}
				trait = wave_druid_op
			}
			remove_trait = wave_druid_op
		}
		if = {
			limit = {
				OR = {
					NOT = { trait = druid }
					NOT = { has_character_modifier = wind_druid }
				}
				trait = wind_druid_op
			}
			remove_trait = wind_druid_op
		}
		if = {
			limit = {
				OR = {
					NOT = { trait = druid }
					NOT = { has_character_modifier = stone_druid }
				}
				trait = stone_druid_op
			}
			remove_trait = stone_druid_op
		}
		if = {
			limit = {
				NOT = { trait = witch_doctor }
				trait = witch_doctor_op
			}
			remove_trait = witch_doctor_op
		}
		if = {
			limit = {
				NOT = { trait = alchemist }
				trait = alchemist_op
			}
			remove_trait = alchemist_op
		}
		if = {
			limit = {
				NOT = { trait = scout }
				trait = scout_op
			}
			remove_trait = scout_op
		}
		if = {
			limit = {
				OR = {
					NOT = { trait = assassin }
					has_character_flag = secret_assassin
				}
				trait = assassin_op
			}
			remove_trait = assassin_op
		}
		if = {
			limit = {
				OR = {
					trait = rogue
					has_character_flag = secret_rogue
				}
				trait = rogue_op
			}
			remove_trait = rogue_op
		}
		if = {
			limit = {
				NOT = { trait = beastmaster }
				trait = beastmaster_op
			}
			remove_trait = beastmaster_op
		}
		if = {
			limit = {
				NOT = { trait = explorer }
				trait = explorer_op
			}
			remove_trait = explorer_op
		}
		if = {
			limit = {
				NOT = { trait = ranger }
				trait = ranger_op
			}
			remove_trait = ranger_op
		}
		if = {
			limit = {
				NOT = { trait = tinker }
				trait = tinker_op
			}
			remove_trait = tinker_op
		}
		if = {
			limit = {
				NOT = { trait = engineer }
				trait = engineer_op
			}
			remove_trait = engineer_op
		}
		if = {
			limit = {
				NOT = { trait = mechanist }
				trait = mechanist_op
			}
			remove_trait = mechanist_op
		}
		if = {
			limit = {
				NOR = {
					trait = techmage
					trait = techmage_fake
				}
				trait = techmage_op
			}
			remove_trait = techmage_op
		}
		if = {
			limit = {
				NOT = { trait = fighter }
				trait = fighter_op
			}
			remove_trait = fighter_op
		}
		if = {
			limit = {
				NOT = { trait = warrior }
				trait = warrior_op
			}
			remove_trait = warrior_op
		}
		if = {
			limit = {
				NOT = { trait = paladin }
				trait = paladin_op
			}
			remove_trait = paladin_op
		}
		if = {
			limit = {
				NOT = { trait = monk }
				trait = monk_op
			}
			remove_trait = monk_op
		}
		if = {
			limit = {
				NOT = { trait = death_knight }
				trait = death_knight_op
			}
			remove_trait = death_knight_op
		}
		if = {
			limit = {
				NOT = { trait = demon_hunter }
				trait = demon_hunter_op
			}
			remove_trait = demon_hunter_op
		}
	}
}